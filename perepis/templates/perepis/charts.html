{% extends 'perepis/base_lk.html' %}
{% load static %}
{% block content %}
    <div class="page-content">
        <div class="main-wrapper">
            <div class="row">
                <div class="col-sm-12 col-md-6">
                <div class="card">
                    <div class="card-body">
                        <h5 class="card-title">Radar Chart</h5>
                        <div id="apex7"></div>
                    </div>
                </div>
                </div>      
        </div>
    </div>
{% endblock %}
{% block js %}
    <script src="{% static 'perepis/lk/plugins/apexcharts/apexcharts.min.js' %}"></script>
    <script src="{% static 'perepis/lk/plugins/chartjs/chart.bundle.min.js' %}"></script>
    <script type="text/javascript">
        $(document).ready(function () {

            "use strict";
        
            var options7 = {
                series: [{
                    name: 'Series 1',
                    data: ['{{ edu_count }}','{{ child_count }}','{{ married_count }}', '{{ educations_degrees }}', '{{ sex_count }}'],
                }],
                chart: {
                    height: 350,
                    type: 'radar',
                },
                dataLabels: {
                    enabled: true
                },
                plotOptions: {
                    radar: {
                        size: 140,
                        polygons: {
                            strokeColors: '#e9e9e9',
                            fill: {
                                colors: ['#f8f8f8', '#fff']
                            }
                        }
                    }
                },
                title: {
                    text: '{{ city }}'
                },
                colors: ['#FF4560'],
                markers: {
                    size: 4,
                    colors: ['#fff'],
                    strokeColor: '#FF4560',
                    strokeWidth: 2,
                },
                tooltip: {
                    y: {
                        formatter: function (val) {
                            return val
                        }
                    }
                },
                xaxis: {
                    categories: ['Образование', 'Дети', 'СП', 'Ученые степени', 'Пол']
                },
                yaxis: {
                    tickAmount: 7,
                    labels: {
                        formatter: function (val, i) {
                            if (i % 2 === 0) {
                                return val
                            } else {
                                return ''
                            }
                        }
                    }
                }
            };
        
            var chart7 = new ApexCharts(document.querySelector("#apex7"), options7);
            chart7.render();
        });
    </script>
{% endblock %}